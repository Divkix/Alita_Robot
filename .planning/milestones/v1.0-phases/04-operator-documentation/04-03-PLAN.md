---
phase: 04-operator-documentation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/src/content/docs/commands/devs/index.md
autonomous: true
requirements: [OPER-03]

must_haves:
  truths:
    - "The devs command page has an explicit access level table with three tiers: Owner Only, Owner or Dev, Any Team Member"
    - "Each of the 9 dev commands is mapped to its correct access level with the guard condition documented"
    - "The page contains explicit 'owner-only, not surfaced to regular users' language"
    - "The page documents that unauthorized users receive no error response (silent ignore)"
    - "The page documents the team hierarchy: Owner > Sudo > Dev"
    - "The docs build passes clean with zero broken links"
  artifacts:
    - path: "docs/src/content/docs/commands/devs/index.md"
      provides: "Developer/owner commands documentation with access level tiers"
      contains: "Owner Only"
  key_links: []
---

<objective>
Extend the existing developer commands page with operator-focused access level documentation, explicit "not surfaced to regular users" framing, and the team permission hierarchy.

Purpose: The existing devs page lists all 9 commands and their required permissions, but lacks the operator framing that OPER-03 requires. Operators need to understand the three-tier access system (Owner Only, Owner or Dev, Any Team Member), the silent-ignore behavior for unauthorized users, and the team hierarchy. The current page is functional but reads like a generic command reference -- it needs explicit operator guidance.

Output: Extended `commands/devs/index.md` with access level tiers table, team hierarchy documentation, and operator-focused notes.
</objective>

<execution_context>
@/Users/divkix/.claude/get-shit-done/workflows/execute-plan.md
@/Users/divkix/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-operator-documentation/04-RESEARCH.md

Source file for access level verification (READ for verification, do NOT modify):
@alita/modules/devs.go

Existing docs file to extend:
@docs/src/content/docs/commands/devs/index.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend devs/index.md with access level tiers and operator framing</name>
  <files>docs/src/content/docs/commands/devs/index.md</files>
  <action>
Rewrite `docs/src/content/docs/commands/devs/index.md` to add operator-focused content. Preserve the existing frontmatter and module structure, but significantly extend the content.

**Frontmatter (keep as-is):**
```yaml
---
title: Devs Commands
description: Complete guide to developer and owner commands
---
```

**New content structure (replace existing body):**

1. **Title:** `# Developer and Owner Commands`

2. **Operator notice** using `:::caution` admonition:
```
:::caution[Not surfaced to regular users]
These commands are restricted to the bot's internal team. They do not appear in the `/help` menu, are not listed in public command references, and are invisible to group admins and regular users. Unauthorized users who attempt these commands receive **no response** — the bot silently ignores the message.
:::
```

3. **Introduction paragraph** — The devs module provides bot management and diagnostic commands for the bot's internal team. The team has three tiers with descending privilege levels. Commands are protected by guard conditions that check the user's team membership before execution.

4. **Team Hierarchy section** — Document the three tiers:

| Tier | Role | How to Assign | Capabilities |
|------|------|---------------|-------------|
| 1 | **Owner** | Set via `OWNER_ID` environment variable at deployment | Full control: manage team roster, all diagnostic commands, all team commands |
| 2 | **Sudo / Dev** | Assigned by owner via `/addsudo` or `/adddev` | Diagnostic commands: bot stats, chat info, chat management |
| 3 | **Any Team Member** | Automatically includes owner + all sudo + all dev users | View team roster only |

Add a `:::tip` explaining: "Sudo and Dev have identical command access. The distinction exists for organizational purposes — sudo users are typically trusted operators, dev users are typically developers with debug access."

5. **Access Level Table** — The definitive table mapping each command to its access level, verified from `devs.go` guard conditions:

| Command | Description | Access Level | Guard Condition |
|---------|-------------|-------------|-----------------|
| `/addsudo` | Grant sudo permissions to a user | Owner Only | `user.Id != config.AppConfig.OwnerId` |
| `/adddev` | Grant developer permissions to a user | Owner Only | `user.Id != config.AppConfig.OwnerId` |
| `/remsudo` | Revoke sudo permissions from a user | Owner Only | `user.Id != config.AppConfig.OwnerId` |
| `/remdev` | Revoke developer permissions from a user | Owner Only | `user.Id != config.AppConfig.OwnerId` |
| `/stats` | Display bot statistics and system info | Owner or Dev | `user.Id != OwnerId && !memStatus.Dev` |
| `/chatinfo` | Display detailed information about a chat | Owner or Dev | `user.Id != OwnerId && !memStatus.Dev` |
| `/chatlist` | Generate and send a list of all active chats | Owner or Dev | `user.Id != OwnerId && !memStatus.Dev` |
| `/leavechat` | Force the bot to leave a specified chat | Owner or Dev | `user.Id != OwnerId && !memStatus.Dev` |
| `/teamusers` | List all team members (owner, sudo, dev) | Any Team Member | User must be in `teamint64Slice` |

6. **Silent Ignore Behavior section** using `:::note` admonition — Explain that unlike admin commands which respond with "you need to be an admin", dev commands use a silent-ignore pattern. When the guard condition fails, the handler simply returns without sending any response. This is intentional: it prevents information leakage about which commands exist and avoids giving non-team users any feedback about restricted functionality.

7. **Module Aliases section** (preserve from existing):
```
> These are help-menu module names, not command aliases.

This module has no help-menu aliases. It is not listed in the help menu.
```

8. **Disableable Status section** — Add a note: "None of the developer commands are disableable. They cannot be disabled via the `/disable` command because they are not registered with `AddCmdToDisableable()`."

9. **Usage Examples section** (preserve from existing, with minor additions):
   - View bot statistics: `/stats`
   - Get information about a chat: `/chatinfo -100123456789`
   - Add a sudo user: `/addsudo <reply to user or user_id>`
   - Add a dev user: `/adddev <reply to user or user_id>`
   - List team members: `/teamusers`
   - Force bot to leave a chat: `/leavechat -100123456789`

Use plain Markdown with `:::caution`, `:::note`, and `:::tip` admonitions. Do NOT use MDX imports.
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/Alita_Robot/docs && bun run build 2>&1 | tail -20</automated>
  </verify>
  <done>devs/index.md has three-tier access level table, explicit "not surfaced to regular users" framing, team hierarchy documentation, silent-ignore behavior explanation, and all 9 commands mapped to correct access levels. Docs build passes.</done>
</task>

</tasks>

<verification>
1. `cd docs && bun run build` passes with zero errors
2. `commands/devs/index.md` contains "Owner Only" access level for addsudo/adddev/remsudo/remdev
3. `commands/devs/index.md` contains "Owner or Dev" access level for stats/chatinfo/chatlist/leavechat
4. `commands/devs/index.md` contains "Any Team Member" access level for teamusers
5. `commands/devs/index.md` contains "not surfaced to regular users" language
6. `commands/devs/index.md` documents silent-ignore behavior
</verification>

<success_criteria>
- devs/index.md at `docs/src/content/docs/commands/devs/index.md` has all three access tiers documented
- Each of the 9 commands is mapped to its correct access level matching the code
- The page explicitly states these commands are not visible to regular users
- Silent-ignore behavior for unauthorized users is documented
- Team hierarchy (Owner > Sudo > Dev) is documented with assignment methods
- `cd docs && bun run build` passes clean
</success_criteria>

<output>
After completion, create `.planning/phases/04-operator-documentation/04-03-SUMMARY.md`
</output>
