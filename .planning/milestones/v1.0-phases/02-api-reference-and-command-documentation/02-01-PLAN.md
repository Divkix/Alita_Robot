---
phase: 02-api-reference-and-command-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/src/content/docs/commands/devs/index.md
  - docs/src/content/docs/commands/help/index.md
  - docs/src/content/docs/commands/users/index.md
  - docs/src/content/docs/commands/languages/index.md
autonomous: true
requirements:
  - DOCS-06

must_haves:
  truths:
    - "`docs/src/content/docs/commands/devs/index.md` exists with 9 commands documented in the Available Commands table, grouped by access tier (Owner-only vs Dev/Owner)"
    - "`docs/src/content/docs/commands/help/index.md` exists with 4 commands documented and UX flow explanation for start/help menu navigation"
    - "`docs/src/content/docs/commands/users/index.md` exists as a behavior-description page with NO command table (passive watcher module)"
    - "`docs/src/content/docs/commands/languages/index.md` has the `/lang` description filled in (not 'No description available') and asymmetric permission note (User in PM / Admin in group)"
    - "All 4 module pages follow the established template: frontmatter, emoji heading, prose, Module Aliases section with clarifying note, Available Commands table (except users), Usage Examples, Required Permissions"
    - "The devs module page has a `:::caution` Starlight admonition at the top warning about owner-only access"
  artifacts:
    - path: "docs/src/content/docs/commands/devs/index.md"
      provides: "Devs module documentation page"
      contains: ":::caution"
    - path: "docs/src/content/docs/commands/help/index.md"
      provides: "Help module documentation page"
      contains: "/start"
    - path: "docs/src/content/docs/commands/users/index.md"
      provides: "Users module documentation page"
      contains: "automatic"
    - path: "docs/src/content/docs/commands/languages/index.md"
      provides: "Updated Languages module documentation page"
      contains: "Change bot language"
  key_links:
    - from: "docs/src/content/docs/commands/devs/index.md"
      to: "alita/modules/devs.go"
      via: "Command list and permission tiers derived from LoadDev() registrations"
      pattern: "chatinfo|addsudo|teamusers"
    - from: "docs/src/content/docs/commands/help/index.md"
      to: "alita/modules/help.go"
      via: "Command list derived from LoadHelp() registrations and UX flow from callback chain"
      pattern: "start|help|donate|about"
---

<objective>
Create documentation pages for the three undocumented modules (devs, help, users) and improve the existing languages page to full depth.

Purpose: Four modules lack documentation pages in the docs site. Phase 2 requires every module to have a corresponding docs page. The canonical inventory from Phase 1 confirmed devs (9 commands), help (4 commands), and users (0 commands, passive watcher) have no docs directories. The languages page exists but has "No description available" for its only command.

Output: Four `.md` files in `docs/src/content/docs/commands/` following the established module page template.
</objective>

<execution_context>
@/Users/divkix/.claude/get-shit-done/workflows/execute-plan.md
@/Users/divkix/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-api-reference-and-command-documentation/02-RESEARCH.md
@.planning/INVENTORY.json

<interfaces>
<!-- Established module page template extracted from existing docs -->
<!-- ALL new module pages MUST follow this structure exactly -->

Template structure (from docs/src/content/docs/commands/bans/index.md and similar):
```markdown
---
title: [Module] Commands
description: Complete guide to [Module] module commands and features
---

# [emoji] [Module] Commands

[Prose description ‚Äî 1-3 paragraphs]

## Module Aliases

> These are help-menu module names, not command aliases.

This module can be accessed using the following aliases:

- `alias1`

## Available Commands

| Command | Description | Disableable |
|---------|-------------|-------------|
| `/cmd` | Terse action description | ‚ùå |

## Usage Examples

### Basic Usage

```
/cmd [args]
```

## Required Permissions

[Permission statement]
```

Starlight admonition syntax (from troubleshooting.md):
```markdown
:::caution
Warning text here.
:::
```

<!-- Source data for devs module from alita/modules/devs.go -->

devs.go command registrations (LoadDev):
- stats ‚Üí getStats (Dev/Owner guard)
- addsudo ‚Üí addSudo (Owner guard)
- adddev ‚Üí addDev (Owner guard)
- remsudo ‚Üí remSudo (Owner guard)
- remdev ‚Üí remDev (Owner guard)
- teamusers ‚Üí listTeam (Team guard)
- chatinfo ‚Üí chatInfo (Dev/Owner guard)
- chatlist ‚Üí chatList (Dev/Owner guard)
- leavechat ‚Üí leaveChat (Dev/Owner guard)

Permission guard patterns:
- Owner-only: `user.Id != config.AppConfig.OwnerId`
- Dev/Owner: `user.Id != config.AppConfig.OwnerId && !memStatus.Dev`
- Team: `FindInInt64Slice(teamint64Slice, user.Id)`

<!-- Source data for help module from alita/modules/help.go -->

help.go command registrations (LoadHelp):
- start ‚Üí HelpModule.start (no guard)
- help ‚Üí HelpModule.help (no guard)
- donate ‚Üí HelpModule.donate (no guard)
- about ‚Üí HelpModule.about (no guard)

Callback registrations (not commands ‚Äî do NOT include in command table):
- helpq ‚Üí helpButtonHandler
- configuration ‚Üí botConfig
- about ‚Üí about (callback version)

UX flow: /start in PM ‚Üí welcome message + inline keyboard ‚Üí module buttons (helpq callbacks) ‚Üí /help <module> deep-link ‚Üí PM redirect if used in group

<!-- Source data for users module from alita/modules/users.go -->

users.go registrations (LoadUsers):
- ONE message watcher: logUsers at handler group -1
- ZERO commands registered
- Rate-limited database updates (userUpdateInterval, chatUpdateInterval, channelUpdateInterval)
- Tracks: user ID/username/name, chat ID/name, channel ID/name/username

<!-- Source data for language module from alita/modules/language.go -->

language.go registrations (LoadLanguage):
- lang ‚Üí changeLanguage
- change_language callback ‚Üí langBtnHandler
- Module name in HelpModule.AbleMap: "Languages"
- Permission: RequireUserAdmin in group chats only; any user in private chats
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create devs and help module documentation pages</name>
  <files>docs/src/content/docs/commands/devs/index.md, docs/src/content/docs/commands/help/index.md</files>
  <action>
**Create `docs/src/content/docs/commands/devs/index.md`:**

Create the directory `docs/src/content/docs/commands/devs/` first, then create `index.md` with the following content. Follow the template structure EXACTLY:

1. **Frontmatter:** title "Devs Commands", description "Complete guide to developer and owner commands"
2. **Heading:** `# üîß Devs Commands`
3. **Admonition (BEFORE prose):** Use `:::caution` block with text: "These commands are restricted to bot owner and developer users. They are not available to group admins or regular users."
4. **Prose:** 1-2 paragraphs explaining this module provides bot management and diagnostic commands for the bot owner and trusted developers. Mention the three access tiers: Owner-only (manage team), Dev/Owner (diagnostics and chat management), Team (view team list).
5. **Module Aliases section:** Add the clarifying note "These are help-menu module names, not command aliases." The devs module has NO help-menu aliases (it is not registered in HelpModule.AbleMap ‚Äî the LoadDev function has no `HelpModule.AbleMap.Store()` call). State: "This module has no help-menu aliases. It is not listed in the help menu."
6. **Available Commands table:** All 9 commands with terse descriptions:

| Command | Description | Disableable |
|---------|-------------|-------------|
| `/addsudo` | Grant sudo permissions to a user | ‚ùå |
| `/adddev` | Grant developer permissions to a user | ‚ùå |
| `/chatinfo` | Display detailed information about a chat | ‚ùå |
| `/chatlist` | Generate and send a list of all active chats | ‚ùå |
| `/leavechat` | Force the bot to leave a specified chat | ‚ùå |
| `/remdev` | Revoke developer permissions from a user | ‚ùå |
| `/remsudo` | Revoke sudo permissions from a user | ‚ùå |
| `/stats` | Display bot statistics and system info | ‚ùå |
| `/teamusers` | List all team members (owner, sudo, dev) | ‚ùå |

7. **Usage Examples:** Show examples for `/stats`, `/chatinfo <chat_id>`, `/addsudo <reply/user_id>`, `/teamusers`
8. **Required Permissions section:** Explain the three tiers clearly:
   - `/addsudo`, `/adddev`, `/remsudo`, `/remdev` ‚Äî Bot owner only
   - `/chatinfo`, `/chatlist`, `/leavechat`, `/stats` ‚Äî Bot owner or developer
   - `/teamusers` ‚Äî Any team member (owner, sudo, developer)

**Create `docs/src/content/docs/commands/help/index.md`:**

Create the directory `docs/src/content/docs/commands/help/` first, then create `index.md`:

1. **Frontmatter:** title "Help Commands", description "Complete guide to help, navigation, and bot information commands"
2. **Heading:** `# ‚ùì Help Commands`
3. **Prose:** 2-3 paragraphs explaining:
   - This module provides the bot's main entry points and navigation system
   - `/start` in private chat shows a welcome message with inline keyboard navigation
   - `/help` shows a module list; clicking a module button shows that module's commands
   - When `/help` is used in a group, the bot redirects the user to a private message for detailed help
   - `/about` shows bot information and links; `/donate` shows donation information
4. **Module Aliases section:** The help module has NO help-menu aliases (LoadHelp does not call `HelpModule.AbleMap.Store()`). Add clarifying note and state: "This module has no help-menu aliases. These commands are always available."
5. **Available Commands table:**

| Command | Description | Disableable |
|---------|-------------|-------------|
| `/about` | Show bot information and links | ‚ùå |
| `/donate` | Show donation information | ‚ùå |
| `/help` | Show help menu with module list | ‚ùå |
| `/start` | Show welcome message with navigation menu | ‚ùå |

6. **Usage Examples:** Show `/start`, `/help`, `/help admin`, `/about`
7. **Required Permissions:** "All commands in this module are available to everyone. No admin or owner permissions required."

Descriptions must use the terse, functional tone specified in CONTEXT.md decisions: "Show welcome message with navigation menu" not "This command shows you the welcome message".
  </action>
  <verify>
    <automated>test -f /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/devs/index.md && test -f /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/help/index.md && grep -q ":::caution" /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/devs/index.md && grep -q "/start" /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/help/index.md && echo "PASS"</automated>
  </verify>
  <done>Both devs/index.md and help/index.md exist following the established template. Devs page has caution admonition, all 9 commands with three permission tiers documented. Help page has all 4 commands with UX flow explanation. All descriptions use terse functional tone.</done>
</task>

<task type="auto">
  <name>Task 2: Create users module page and update languages module page</name>
  <files>docs/src/content/docs/commands/users/index.md, docs/src/content/docs/commands/languages/index.md</files>
  <action>
**Create `docs/src/content/docs/commands/users/index.md`:**

Create the directory `docs/src/content/docs/commands/users/` first, then create `index.md`:

1. **Frontmatter:** title "Users Module", description "Automatic user and chat tracking module"
2. **Heading:** `# üë§ Users Module`
3. **Prose:** 2 paragraphs explaining:
   - This is a passive background module with NO user-facing commands. It runs silently on every message the bot processes.
   - It automatically tracks all message senders (user ID, username, display name) and all chats (chat ID, chat name) the bot is active in. Database updates are rate-limited to prevent excessive writes.
   - Other modules rely on this data ‚Äî for example, `/info` in the Misc module uses user data collected by this module.
4. **Module Aliases section:** Add clarifying note. Users module has NO help-menu aliases (LoadUsers does not call `HelpModule.AbleMap.Store()`). State: "This module has no help-menu aliases. It operates silently in the background."
5. **NO Available Commands table.** Instead, add a section "## How It Works" explaining:
   - Runs as a message watcher at handler group -1 (fires before all command handlers)
   - Tracks: user ID, username, and display name for every message sender
   - Tracks: chat ID and chat name for every group the bot is in
   - Tracks: channel ID, name, and username for linked channels
   - Rate-limited: user updates throttled to one per `UserUpdateInterval`, chat updates to one per `ChatUpdateInterval`
   - No user interaction required ‚Äî fully automatic
6. **Required Permissions:** "This module requires no permissions. It operates automatically on all messages."

Do NOT include a "Usage Examples" section ‚Äî there are no commands to demonstrate.

**Update `docs/src/content/docs/commands/languages/index.md`:**

Read the current file first. Then make these changes:

1. **Fix the `/lang` description** in the Available Commands table: Replace "No description available" with "Change bot language for yourself or your group"
2. **Add clarifying note** to Module Aliases section: Add line above "This module can be accessed..." saying: `> These are help-menu module names, not command aliases.`
3. **Improve the Required Permissions section** to explicitly state the asymmetric permission:
   - In private chats: any user can change their own language
   - In group chats: only admins can change the group language
4. **Add a Usage Examples section** if not present, showing:
   - `/lang` ‚Äî opens language selection keyboard
   - Explain that the language selection uses an inline keyboard callback, users do not type language codes

Keep all existing content that is already correct (the Crowdin link, the "How It Works" section). Only fix what is wrong or missing.
  </action>
  <verify>
    <automated>test -f /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/users/index.md && grep -q "automatic" /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/users/index.md && grep -q "Change bot language" /Users/divkix/GitHub/Alita_Robot/docs/src/content/docs/commands/languages/index.md && echo "PASS"</automated>
  </verify>
  <done>Users module page exists as a behavior-description page with no command table. Languages page has filled description for /lang, asymmetric permission note, and alias clarification. Both pages follow established template structure.</done>
</task>

</tasks>

<verification>
1. `test -f docs/src/content/docs/commands/devs/index.md` ‚Äî devs page exists
2. `test -f docs/src/content/docs/commands/help/index.md` ‚Äî help page exists
3. `test -f docs/src/content/docs/commands/users/index.md` ‚Äî users page exists
4. `grep -c ":::caution" docs/src/content/docs/commands/devs/index.md` ‚Äî returns 1 (admonition present)
5. `grep "No description available" docs/src/content/docs/commands/languages/index.md` ‚Äî returns nothing (all descriptions filled)
6. `cd /Users/divkix/GitHub/Alita_Robot/docs && bun run build 2>&1 | tail -5` ‚Äî build passes with zero link errors
</verification>

<success_criteria>
- Three new module documentation pages created (devs, help, users)
- Languages module page updated with filled descriptions and asymmetric permission note
- Devs page has caution admonition warning about restricted access
- Help page explains the UX flow (start ‚Üí keyboard ‚Üí module buttons ‚Üí PM redirect)
- Users page is a behavior-description page with no command table (correctly reflects zero commands)
- All pages follow the established template structure (frontmatter, emoji heading, prose, Module Aliases with clarifying note, commands table, usage examples, permissions)
- All command descriptions use terse functional tone per CONTEXT.md decisions
- Docs site builds successfully with no broken links
</success_criteria>

<output>
After completion, create `.planning/phases/02-api-reference-and-command-documentation/02-01-SUMMARY.md`
</output>
