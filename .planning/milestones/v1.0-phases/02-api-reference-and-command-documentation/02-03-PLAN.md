---
phase: 02-api-reference-and-command-documentation
plan: 03
type: execute
wave: 2
depends_on:
  - 01
files_modified:
  - docs/src/content/docs/commands/index.mdx
  - docs/src/content/docs/commands/admin/index.md
  - docs/src/content/docs/commands/bans/index.md
  - docs/src/content/docs/commands/blacklists/index.md
  - docs/src/content/docs/commands/captcha/index.md
  - docs/src/content/docs/commands/connections/index.md
  - docs/src/content/docs/commands/disabling/index.md
  - docs/src/content/docs/commands/filters/index.md
  - docs/src/content/docs/commands/formatting/index.md
  - docs/src/content/docs/commands/greetings/index.md
  - docs/src/content/docs/commands/locks/index.md
  - docs/src/content/docs/commands/misc/index.md
  - docs/src/content/docs/commands/mutes/index.md
  - docs/src/content/docs/commands/notes/index.md
  - docs/src/content/docs/commands/pins/index.md
  - docs/src/content/docs/commands/purges/index.md
  - docs/src/content/docs/commands/reports/index.md
  - docs/src/content/docs/commands/rules/index.md
  - docs/src/content/docs/commands/warns/index.md
  - docs/src/content/docs/commands/antiflood/index.md
  - docs/src/content/docs/commands/antispam/index.md
autonomous: true
requirements:
  - DOCS-01
  - DOCS-03

must_haves:
  truths:
    - "`commands/index.mdx` header shows 'Total Modules: 24 | Total Commands: 142' (not the old '21 / 120+')"
    - "`commands/index.mdx` has Card entries for Devs, Help, and Users modules"
    - "Every existing module page's Module Aliases section has the clarifying note: 'These are help-menu module names, not command aliases.'"
    - "Every 'No description available' entry in existing module page command tables is replaced with a terse functional description"
    - "Module pages with MultiCommand aliases (blacklists, formatting, notes, rules) have alias rows with 'Alias of /primary' notation in their command tables"
  artifacts:
    - path: "docs/src/content/docs/commands/index.mdx"
      provides: "Updated commands overview with correct counts and new module cards"
      contains: "24"
    - path: "docs/src/content/docs/commands/admin/index.md"
      provides: "Updated admin module page with filled descriptions and alias clarification"
      contains: "help-menu module names"
  key_links:
    - from: "docs/src/content/docs/commands/index.mdx"
      to: ".planning/INVENTORY.json"
      via: "Module and command counts sourced from canonical inventory"
      pattern: "142"
    - from: "docs/src/content/docs/commands/index.mdx"
      to: "docs/src/content/docs/commands/devs/index.md"
      via: "New Card entry links to devs module page created in Plan 01"
      pattern: "/commands/devs/"
---

<objective>
Fix the commands overview index page with correct counts and add cards for new modules. Normalize all existing module page descriptions and add alias clarification notes.

Purpose: The `index.mdx` claims "21 modules / 120+" which is wrong (should be 24 / 142). Cards for devs, help, and users are missing. Existing module pages have "No description available" entries and lack the alias clarification note that prevents confusion between help-menu aliases and command aliases.

Output: Updated `index.mdx` with correct counts and 3 new cards. All 19 existing module pages normalized with filled descriptions and alias clarification.
</objective>

<execution_context>
@/Users/divkix/.claude/get-shit-done/workflows/execute-plan.md
@/Users/divkix/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-api-reference-and-command-documentation/02-RESEARCH.md
@.planning/INVENTORY.json
@.planning/phases/02-api-reference-and-command-documentation/02-01-SUMMARY.md

<interfaces>
<!-- index.mdx uses Starlight components -->
<!-- Import already exists: import { Badge, Card, CardGrid, LinkCard } from '@astrojs/starlight/components'; -->

Card template for new modules:
```mdx
<Card title="ModuleName" icon="icon">
  Description of what the module does.

  <Badge text="N commands" variant="note" /> <Badge text="AccessLevel" variant="caution|success|default" />

  <LinkCard title="View ModuleName Commands" href="/commands/modulename/" />
</Card>
```

Badge variants:
- "note" → command count badges
- "caution" → Admin Only, Owner Only access badges
- "success" → Everyone access badges
- "default" → informational badges (e.g., "Automatic", "No commands")

<!-- Module page alias clarification note format -->
Add this line to EVERY Module Aliases section, immediately before "This module can be accessed...":
```markdown
> These are help-menu module names, not command aliases.
```

<!-- Description normalization reference -->
All "No description available" entries must be replaced. Here are the normalized descriptions for known empty entries:

Admin module:
- /admincache → "Refresh cached admin list"
- /anonadmin → "Toggle anonymous admin verification"
- /clearadmincache → "Clear and rebuild admin cache"
- /invitelink → "Get group invite link"

Bans module:
- /dkick → "Kick a user and delete the replied message"

Locks module (no empty entries currently — verify)

Misc module:
- /tell → "Echo a message through the bot"

Languages module:
- /lang → Already fixed in Plan 01

Formatting module (no empty entries — verify)

Antispam module (no commands — no table to fix)

<!-- MultiCommand alias rows to add in module page tables -->

Blacklists: add `/rmallbl | Alias of `/remallbl` | ❌` row (already exists — verify format)
Formatting: add `/formatting | Alias of `/markdownhelp` | ❌` row (already exists — verify format)
Notes: add `/privatenotes | Alias of `/privnote` | ❌` row (already exists — verify format)
Rules: add `/clearrules | Alias of `/resetrules` | ❌` row (already exists — verify format)
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update commands/index.mdx with correct counts and new module cards</name>
  <files>docs/src/content/docs/commands/index.mdx</files>
  <action>
Read `docs/src/content/docs/commands/index.mdx` first. Make the following targeted edits:

**1. Fix the header counts:**
Replace:
```
**Total Modules**: 21 | **Total Commands**: 120+
```
With:
```
**Total Modules**: 24 | **Total Commands**: 142
```

(24 = 25 total modules minus bot_updates internal module. Users is included because it's a user-facing background module that powers other modules.)

**2. Add Devs card to a new "Developer" section:**

Add a new `## Developer` section BEFORE the `## Getting Started` section, with:

```mdx
## Developer

<CardGrid>
  <Card title="Devs" icon="setting">
    Bot management and diagnostic commands for the bot owner and trusted developers.

    <Badge text="9 commands" variant="note" /> <Badge text="Owner/Dev Only" variant="caution" />

    <LinkCard title="View Devs Commands" href="/commands/devs/" />
  </Card>
</CardGrid>
```

**3. Add Help card to the "Bot Management" section:**

Add a Help card to the existing Bot Management CardGrid (after Languages, before Pins):

```mdx
  <Card title="Help" icon="information">
    Bot entry points and navigation. Welcome message, help menu, about, and donate.

    <Badge text="4 commands" variant="note" /> <Badge text="Everyone" variant="success" />

    <LinkCard title="View Help Commands" href="/commands/help/" />
  </Card>
```

**4. Add Users card to a new "Background" section:**

Add a `## Background` section after the "Developer" section:

```mdx
## Background

<CardGrid>
  <Card title="Users" icon="seti:db">
    Automatic user and chat tracking. Silently logs all message senders and chats.

    <Badge text="No commands" variant="default" /> <Badge text="Automatic" variant="success" />

    <LinkCard title="View Users Module" href="/commands/users/" />
  </Card>
</CardGrid>
```

Do NOT change any existing card content — only add the 3 new cards and fix the header counts.
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/Alita_Robot && grep "Total Modules.*24" docs/src/content/docs/commands/index.mdx && grep "Total Commands.*142" docs/src/content/docs/commands/index.mdx && grep -c "/commands/devs/" docs/src/content/docs/commands/index.mdx && grep -c "/commands/help/" docs/src/content/docs/commands/index.mdx && grep -c "/commands/users/" docs/src/content/docs/commands/index.mdx && echo "PASS"</automated>
  </verify>
  <done>index.mdx shows "Total Modules: 24 | Total Commands: 142". Cards for Devs (Developer section), Help (Bot Management section), and Users (Background section) are present with correct badge counts and link paths.</done>
</task>

<task type="auto">
  <name>Task 2: Add alias clarification notes and missing alias rows across all existing module pages</name>
  <files>docs/src/content/docs/commands/admin/index.md, docs/src/content/docs/commands/bans/index.md, docs/src/content/docs/commands/blacklists/index.md, docs/src/content/docs/commands/captcha/index.md, docs/src/content/docs/commands/connections/index.md, docs/src/content/docs/commands/disabling/index.md, docs/src/content/docs/commands/filters/index.md, docs/src/content/docs/commands/formatting/index.md, docs/src/content/docs/commands/greetings/index.md, docs/src/content/docs/commands/locks/index.md, docs/src/content/docs/commands/misc/index.md, docs/src/content/docs/commands/mutes/index.md, docs/src/content/docs/commands/notes/index.md, docs/src/content/docs/commands/pins/index.md, docs/src/content/docs/commands/purges/index.md, docs/src/content/docs/commands/reports/index.md, docs/src/content/docs/commands/rules/index.md, docs/src/content/docs/commands/warns/index.md, docs/src/content/docs/commands/antiflood/index.md, docs/src/content/docs/commands/antispam/index.md</files>
  <action>
For ALL 20 existing module pages (excluding devs, help, users, languages which were handled in Plan 01), make two categories of changes:

**Category A: Add alias clarification note to Module Aliases section**

In EVERY module page that has a "## Module Aliases" section, add the following blockquote line immediately before "This module can be accessed using the following aliases:":

```markdown
> These are help-menu module names, not command aliases.

```

Read each file first to locate the exact position. The note goes between the `## Module Aliases` heading and the "This module can be accessed..." line.

If a module page does NOT have a Module Aliases section (check antispam), skip this change for that page.

**Category B: Verify alias rows in module pages with MultiCommand pairs**

Check these 4 module pages and ensure alias rows exist with correct "Alias of" notation:

1. **blacklists/index.md:** `/rmallbl` row should have "Alias of `/remallbl`" in Description. Check current state — the row exists already. Verify the description says "Alias of `/remallbl`" not the handler name.

2. **formatting/index.md:** `/formatting` row should have "Alias of `/markdownhelp`" in Description. Check and fix if needed.

3. **notes/index.md:** `/privatenotes` row should have "Alias of `/privnote`" in Description. Check and fix if needed.

4. **rules/index.md:** `/clearrules` row should have "Alias of `/resetrules`" in Description. Check and fix if needed.

If any of these alias rows already exist but lack the "Alias of" notation, update the description column. If the rows already have the correct notation, leave them as-is.

**IMPORTANT:** Read every file before editing. There are 20 files to process. Batch the work but do not skip any file.
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/Alita_Robot && ALIAS_NOTE_COUNT=$(grep -rl "help-menu module names" docs/src/content/docs/commands/ | wc -l | tr -d ' ') && [ "$ALIAS_NOTE_COUNT" -ge 20 ] && echo "PASS: $ALIAS_NOTE_COUNT pages have alias clarification note"</automated>
  </verify>
  <done>Every Module Aliases section has the "help-menu module names" clarification note. Alias rows in blacklists, formatting, notes, and rules pages use "Alias of /primary" notation.</done>
</task>

<task type="auto">
  <name>Task 3: Normalize descriptions to terse functional tone across all existing module pages</name>
  <files>docs/src/content/docs/commands/admin/index.md, docs/src/content/docs/commands/bans/index.md, docs/src/content/docs/commands/blacklists/index.md, docs/src/content/docs/commands/captcha/index.md, docs/src/content/docs/commands/connections/index.md, docs/src/content/docs/commands/disabling/index.md, docs/src/content/docs/commands/filters/index.md, docs/src/content/docs/commands/formatting/index.md, docs/src/content/docs/commands/greetings/index.md, docs/src/content/docs/commands/locks/index.md, docs/src/content/docs/commands/misc/index.md, docs/src/content/docs/commands/mutes/index.md, docs/src/content/docs/commands/notes/index.md, docs/src/content/docs/commands/pins/index.md, docs/src/content/docs/commands/purges/index.md, docs/src/content/docs/commands/reports/index.md, docs/src/content/docs/commands/rules/index.md, docs/src/content/docs/commands/warns/index.md, docs/src/content/docs/commands/antiflood/index.md, docs/src/content/docs/commands/antispam/index.md</files>
  <action>
For ALL 20 existing module pages (excluding devs, help, users, languages which were handled in Plan 01), replace all "No description available" entries AND normalize existing verbose descriptions to the terse functional tone.

**Replace all "No description available" entries with terse functional descriptions:**

Read each file and find any `No description available` entries in the Available Commands table. Replace each with a terse, action-oriented description. Here are the specific replacements needed:

**admin/index.md:**
- `/admincache` → "Refresh cached admin list"
- `/anonadmin` → "Toggle anonymous admin verification"
- `/clearadmincache` → "Clear and rebuild admin cache"
- `/invitelink` → "Get group invite link"

**bans/index.md:**
- `/dkick` → "Kick a user and delete the replied message"

**misc/index.md:**
- `/tell` → "Echo a message through the bot"

For ANY other module pages that have "No description available" entries (check ALL pages), use this pattern to derive the description:
1. The command name itself hints at the action
2. Use the handler function name from INVENTORY.json as a clue
3. Write a terse verb-first description under ~60 characters

**Normalize existing verbose descriptions** across ALL module pages to the terse functional tone:
- "bans a user. (via handle, or reply)" → "Ban a user"
- "bans a user silently, does not send message to group and also deletes your command. (via handle, or reply)" → "Ban a user silently and delete your command"
- "bans a user and delete the replied message. (via handle, or reply)" → "Ban a user and delete the replied message"
- "bans a user for `x` time. (via handle, or reply). m = minutes, h = hours, d = days." → "Temporarily ban a user for a specified duration"
- "unbans a user. (via handle, or reply)" → "Unban a user"
- "kicks the user who issued the command." → "Kick yourself from the group"
- "Shows an InlineKeyboard to choose options from kick, ban and mute" → "Show restriction options menu"
- "Shows an InlineKeyboard to choose options from unmute and unban." → "Show unrestriction options menu"
- "Get the current group id. If used by replying to a message, get that user's id." → "Get chat or user ID"
- "Get your user info, which can be used as a reply or by passing a User Id or Username." → "Get user info"
- "Ping the Telegram Server!" → "Ping the Telegram server"
- "Translate the message." → "Translate a message"
- "Removes the stuck bot keyboard from your chat." → "Remove stuck bot keyboard"
- "Gets the count of the total number of messages in the chat." → "Show message count for the chat"

Apply this normalization pattern to ALL module pages. Read each page, identify verbose descriptions, and normalize to the same terse style. For descriptions not listed above, use the same pattern: verb-first, action-oriented, concise.

**IMPORTANT:** Read every file before editing. There are 20 files to process. Batch the work but do not skip any file.
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/Alita_Robot && COUNT=$(grep -rl 'No description available' docs/src/content/docs/commands/ | wc -l | tr -d ' ') && [ "$COUNT" -eq 0 ] && echo "PASS: zero files with 'No description available'"</automated>
  </verify>
  <done>Zero "No description available" entries remain across all module pages. All descriptions use terse functional tone. Docs site builds successfully with no broken links.</done>
</task>

</tasks>

<verification>
1. `grep -q "Total Modules.*24" docs/src/content/docs/commands/index.mdx && echo PASS` — correct module count
2. `grep -q "Total Commands.*142" docs/src/content/docs/commands/index.mdx && echo PASS` — correct command count
3. `grep -q "/commands/devs/" docs/src/content/docs/commands/index.mdx && echo PASS` — devs card present
4. `COUNT=$(grep -rl 'No description available' docs/src/content/docs/commands/ | wc -l | tr -d ' ') && [ "$COUNT" -eq 0 ] && echo PASS` — zero files with unfilled descriptions
5. `ALIAS_NOTE_COUNT=$(grep -rl 'help-menu module names' docs/src/content/docs/commands/ | wc -l | tr -d ' ') && [ "$ALIAS_NOTE_COUNT" -ge 20 ] && echo PASS` — all module pages with aliases have clarification note
6. `cd /Users/divkix/GitHub/Alita_Robot/docs && bun run build 2>&1 | tail -5` — build passes clean
</verification>

<success_criteria>
- index.mdx shows "Total Modules: 24 | Total Commands: 142"
- Three new cards present: Devs (Developer section), Help (Bot Management), Users (Background section)
- Zero "No description available" entries remain across all module pages
- All descriptions normalized to terse functional tone
- Every Module Aliases section has clarification note
- Alias rows in 4 module pages use "Alias of /primary" notation
- Docs site builds with no broken links
</success_criteria>

<output>
After completion, create `.planning/phases/02-api-reference-and-command-documentation/02-03-SUMMARY.md`
</output>
