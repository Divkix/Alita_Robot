# Bot Configuration
BOT_TOKEN=
BOT_VERSION=
MESSAGE_DUMP=
OWNER_ID=

# PostgreSQL Configuration
# Format: postgres://username:password@host:port/database?sslmode=disable
DATABASE_URL=postgres://postgres:password@localhost:5432/alita_robot?sslmode=disable

# Database Connection Pool Configuration (Optional)
# These settings control database connection pooling for optimal performance

# Maximum number of idle connections in the pool
# Default: 10 connections
# Recommended: 5-25 depending on deployment size (small/medium/large)
#DB_MAX_IDLE_CONNS=10

# Maximum number of open connections to the database
# Default: 100 connections  
# Recommended: 50-300 depending on deployment size
# Small deployment: 50, Medium: 100-150, Large: 200-300
#DB_MAX_OPEN_CONNS=100

# Maximum amount of time a connection can be reused (in minutes)
# Default: 60 minutes (1 hour)
# Recommended: 30-120 minutes depending on database server settings
#DB_CONN_MAX_LIFETIME_MIN=60

# Maximum amount of time a connection can be idle (in minutes)
# Default: 10 minutes
# Recommended: 5-30 minutes depending on connection patterns
#DB_CONN_MAX_IDLE_TIME_MIN=10

# Redis Configuration
REDIS_ADDRESS=localhost:6379
REDIS_PASSWORD=

# Webhook Configuration (set USE_WEBHOOKS=true to enable)
USE_WEBHOOKS=false
WEBHOOK_DOMAIN=https://your-bot-domain.com
WEBHOOK_SECRET=your-random-secret-string
WEBHOOK_PORT=8080

# Cloudflare Tunnel Token (only needed if using webhooks)
CLOUDFLARE_TUNNEL_TOKEN=

# Other settings
ENABLED_LOCALES=en
DEBUG=false
DROP_PENDING_UPDATES=true

# Performance and Concurrency Settings (Optional)
# These settings control worker pool sizes for concurrent operations
# If not set, the system will use intelligent defaults based on your CPU cores

# Chat validation worker pool - controls how many chats are validated concurrently during cleanup
# Default: 10 workers
# Recommended: 5-15 depending on API rate limits and system resources
#CHAT_VALIDATION_WORKERS=10

# Database operation worker pool - controls concurrent database operations
# Default: 5 workers
# Recommended: 3-10 depending on database connection limits
#DATABASE_WORKERS=5

# Message processing pipeline workers - handles concurrent message validation stages
# Default: Number of CPU cores (capped at 8)
# Recommended: 4-12 depending on message volume
#MESSAGE_PIPELINE_WORKERS=8

# Bulk operation workers - handles large batch database operations
# Default: 4 workers
# Recommended: 2-8 depending on database performance
#BULK_OPERATION_WORKERS=4

# Cache operation workers - handles concurrent cache operations
# Default: 3 workers
# Recommended: 2-5 for most use cases
#CACHE_WORKERS=3

# Background statistics collection workers - collects performance metrics
# Default: 2 workers
# Recommended: 1-3 workers
#STATS_COLLECTION_WORKERS=2

# Safety and Resource Limits (Optional)
# These settings protect against resource exhaustion

# Maximum concurrent operations across all worker pools
# Default: 50 operations
# Recommended: 30-100 depending on server resources
#MAX_CONCURRENT_OPERATIONS=50

# Default timeout for operations in seconds
# Default: 30 seconds
# Recommended: 15-60 seconds depending on operation complexity
#OPERATION_TIMEOUT_SECONDS=30

# Monitoring and Statistics (Optional)
# Enable performance monitoring and background statistics collection

# Enable automatic performance monitoring and alerting
# Default: true in production (when DEBUG=false), false in debug mode
# Set to true to enable detailed performance tracking
#ENABLE_PERFORMANCE_MONITORING=true

# Enable background statistics collection
# Default: true in production (when DEBUG=false), false in debug mode
# Set to true to collect system metrics in the background
#ENABLE_BACKGROUND_STATS=true

# Cache Configuration (Optional)
# Configure Ristretto cache parameters for optimal performance

# Number of counters in the cache bloom filter (tracks frequency)
# Default: 10000 (10x more than original for better performance)
# Recommended: 10000-100000 depending on memory available
# Higher values = better hit rate accuracy but more memory usage
#CACHE_NUM_COUNTERS=10000

# Maximum cost (size) of the cache in arbitrary units
# Default: 10000 (100x more than original for better hit rates)
# Recommended: 10000-1000000 depending on available memory
# Higher values = larger cache capacity but more memory usage
#CACHE_MAX_COST=10000

# ============ Activity Monitoring Configuration ============
# Number of days of inactivity before marking a chat as inactive
# Default: 30
# Range: 1-365 days
#INACTIVITY_THRESHOLD_DAYS=30

# Hours between automatic activity checks
# Default: 1 (checks every hour)
# Range: 1-24 hours
#ACTIVITY_CHECK_INTERVAL=1

# Enable automatic cleanup of inactive chats
# Default: true
# Set to false to disable automatic marking of inactive chats
#ENABLE_AUTO_CLEANUP=true
